/* ================================================================= */
/* 1. CONFIGURACIÓN DE COLORES (VARIABLES GLOBALES) */
/* ================================================================= */

/* --- MODO OSCURO (INTACTO) --- */
.theme-dark {
  --background-primary: #292929 !important; 
  --background-secondary: #202020 !important;
  --background-secondary-alt: #202020 !important;
  --background-modifier-border: #606060 !important;
  --divider-color: #606060 !important;
  --titlebar-background: #202020 !important;
  --header-background: #202020 !important;
}

/* --- MODO CLARO (GRIS Y AZUL) --- */
.theme-light {
  --background-primary: #C5C5C5 !important; 
  --background-secondary: #B0B0B0 !important;
  --background-secondary-alt: #B0B0B0 !important;
  --background-modifier-border: #808080 !important;
  --divider-color: #808080 !important;
  --titlebar-background: #B0B0B0 !important;
  --header-background: #B0B0B0 !important;
  --text-normal: #222222 !important;
  --text-muted: #444444 !important;
  --text-accent: #000000 !important; 
  --icon-color: #333333 !important;
  --icon-color-hover: #000000 !important;
  --icon-color-active: #000000 !important;
}

/* ================================================================= */
/* 2. ESTRUCTURA LATERAL */
/* ================================================================= */

/* --- MODO OSCURO --- */
.theme-dark .workspace-ribbon.mod-left,
.theme-dark .workspace-split.mod-left-split {
  background-color: #202020 !important; 
  border-right: 1px solid #606060 !important;
}
.theme-dark .workspace-sidedock-vault-profile {
  background-color: #202020 !important;
  border-top: 1px solid #606060 !important;
}
.theme-dark .nav-header {
  background-color: #202020 !important;
  border-bottom: none !important; 
}
.theme-dark .workspace-split.mod-right-split,
.theme-dark .workspace-split.mod-right-split .workspace-tabs,
.theme-dark .workspace-split.mod-right-split .workspace-tab-container {
  background-color: #202020 !important;
}
.theme-dark .workspace-split.mod-right-split {
  border-left: 1px solid #606060 !important;
}
.theme-dark .workspace-split.mod-root {
  background-color: #292929 !important;
}

/* --- MODO CLARO --- */
.theme-light .workspace-ribbon.mod-left,
.theme-light .workspace-split.mod-left-split {
  background-color: #B0B0B0 !important; 
  border-right: 1px solid #808080 !important;
}
.theme-light .workspace-sidedock-vault-profile {
  background-color: #B0B0B0 !important;
  border-top: 1px solid #808080 !important;
}
.theme-light .nav-header {
  background-color: #B0B0B0 !important;
  border-bottom: none !important; 
}
.theme-light .workspace-split.mod-right-split,
.theme-light .workspace-split.mod-right-split .workspace-tabs,
.theme-light .workspace-split.mod-right-split .workspace-tab-container {
  background-color: #B0B0B0 !important;
}
.theme-light .workspace-split.mod-right-split {
  border-left: 1px solid #808080 !important;
}
.theme-light .workspace-split.mod-root {
  background-color: #C5C5C5 !important;
}

/* CORRECCIÓN FONDOS BLANCOS (Modo Claro) */
.theme-light .sidebar-toggle-button,
.theme-light .titlebar-button-container {
    background-color: #B0B0B0 !important; 
    border: none !important;
}

/* ================================================================= */
/* 3. PESTAÑAS (TABS) */
/* ================================================================= */

.workspace-tab-header-container {
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* Modo Oscuro - Contenedor */
.theme-dark .workspace-tab-header-container {
  background-color: #202020 !important;
  border-bottom: 1px solid #606060 !important; 
}
/* Modo Claro - Contenedor */
.theme-light .workspace-tab-header-container {
  background-color: #B0B0B0 !important;
  border-bottom: 1px solid #808080 !important; 
}

.workspace-tab-header, .workspace-tab-header-inner {
  border-radius: 0 !important;
  box-shadow: none !important; 
}
.workspace-tab-header::before, .workspace-tab-header::after { display: none !important; }

/* --------------------------------------------------------------- */
/* A. PESTAÑA ACTIVA (NOTA PRINCIPAL) */
/* --------------------------------------------------------------- */

/* MODO OSCURO (NARANJA) */
.theme-dark .workspace-split.mod-root .workspace-tab-header.is-active {
    background-color: #292929 !important;
    border-top: 1px solid #606060 !important;
    border-left: 1px solid #606060 !important;
    border-right: 1px solid #606060 !important;
    border-bottom: none !important; 
    margin-bottom: -1px !important;
    z-index: 100;
    padding: 3px !important; 
}
.theme-dark .workspace-split.mod-root .workspace-tab-header.is-active .workspace-tab-header-inner {
    border: 1px solid #BA7428 !important;
    background-color: #292929 !important; 
    color: #BA7428 !important;
    margin: 0 !important;
    width: 100% !important;
}

/* MODO CLARO (AZUL) */
.theme-light .workspace-split.mod-root .workspace-tab-header.is-active {
    background-color: #C5C5C5 !important;
    border-top: 1px solid #808080 !important;
    border-left: 1px solid #808080 !important;
    border-right: 1px solid #808080 !important;
    border-bottom: none !important; 
    margin-bottom: -1px !important;
    z-index: 100;
    padding: 3px !important; 
}
.theme-light .workspace-split.mod-root .workspace-tab-header.is-active .workspace-tab-header-inner {
    border: 1px solid #0066CC !important; 
    background-color: #C5C5C5 !important;
    color: #0066CC !important; 
    margin: 0 !important;
    width: 100% !important;
}

/* --------------------------------------------------------------- */
/* B. PESTAÑA INACTIVA (NOTA PRINCIPAL) */
/* --------------------------------------------------------------- */

/* MODO OSCURO */
.theme-dark .workspace-split.mod-root .workspace-tab-header:not(.is-active) {
    background-color: #202020 !important;
    border: 1px solid #606060 !important;
    margin-bottom: 0 !important;
    margin-top: 4px !important; 
    margin-right: 2px !important;
}
.theme-dark .workspace-split.mod-root .workspace-tab-header:not(.is-active) .workspace-tab-header-inner {
    border: none !important; 
    background: transparent !important;
    color: #A5A5A5 !important;
    margin: 0 !important;
}

/* MODO CLARO */
.theme-light .workspace-split.mod-root .workspace-tab-header:not(.is-active) {
    background-color: #B0B0B0 !important; 
    border: 1px solid #808080 !important; 
    margin-bottom: 0 !important;
    margin-top: 4px !important; 
    margin-right: 2px !important;
}
.theme-light .workspace-split.mod-root .workspace-tab-header:not(.is-active) .workspace-tab-header-inner {
    border: none !important; 
    background: transparent !important;
    color: #222222 !important; 
    margin: 0 !important;
}

/* --------------------------------------------------------------- */
/* C. PESTAÑAS LATERALES (SIDEBAR ICONS) - ENCUADRES */
/* --------------------------------------------------------------- */

/* MODO OSCURO: Iconos laterales activos -> NARANJA */
.theme-dark .workspace-split.mod-left-split .workspace-tab-header.is-active .workspace-tab-header-inner,
.theme-dark .workspace-split.mod-right-split .workspace-tab-header.is-active .workspace-tab-header-inner {
    border: 1px solid #BA7428 !important; 
}

/* MODO CLARO: Iconos laterales activos -> AZUL */
.theme-light .workspace-split.mod-left-split .workspace-tab-header.is-active .workspace-tab-header-inner,
.theme-light .workspace-split.mod-right-split .workspace-tab-header.is-active .workspace-tab-header-inner {
    border: 1px solid #0066CC !important; 
}

/* Títulos de Cabecera */
.theme-dark .workspace-leaf.mod-active .view-header-title { color: #D3A138; }
.theme-dark .workspace-leaf:not(.mod-active) .view-header-title { color: #A5A5A5 !important; }

.theme-light .workspace-leaf.mod-active .view-header-title { color: #0066CC !important; font-weight: bold; }
.theme-light .workspace-leaf:not(.mod-active) .view-header-title { color: #000000 !important; }

/* REQUERIMIENTO: Títulos de Grupos en Pestañas Verticales (Settings) */

/* MODO CLARO: Negro y Negrita */
.theme-light .vertical-tab-header-group-title {
    color: #000000 !important;
    font-weight: bold !important;
}

/* MODO OSCURO: Blanco y Negrita */
.theme-dark .vertical-tab-header-group-title {
    color: #FFFFFF !important;
    font-weight: bold !important;
}

/* ================================================================= */
/* 4. VISIBILIDAD DE ICONOS Y BOTONES (RIBBON/NAV) */
/* ================================================================= */

/* --- MODO CLARO (AZUL) --- */
/* Iconos Generales - Gris Oscuro */
.theme-light .clickable-icon, 
.theme-light .svg-icon,
.theme-light .side-dock-ribbon-action,
.theme-light .nav-action-button {
    color: #333333 !important;
    stroke: #333333 !important;
}
/* Iconos Activos - BORDE AZUL Y FONDO SUAVE */
.theme-light .clickable-icon.is-active,
.theme-light .side-dock-ribbon-action.is-active,
.theme-light .nav-action-button.is-active {
    color: #000000 !important;
    stroke: #000000 !important;
    box-shadow: inset 0 0 0 1px #0066CC !important; 
    background-color: rgba(0, 102, 204, 0.15) !important; 
    border-radius: 0 !important; /* REQUERIMIENTO: Cuadrado */
}
/* Iconos Hover - Negro Puro */
.theme-light .clickable-icon:hover,
.theme-light .side-dock-ribbon-action:hover {
    color: #000000 !important;
    stroke: #000000 !important;
}

/* --- MODO OSCURO (NARANJA) --- */
/* Iconos Activos - BORDE NARANJA Y FONDO SUAVE */
.theme-dark .clickable-icon.is-active,
.theme-dark .side-dock-ribbon-action.is-active,
.theme-dark .nav-action-button.is-active {
    color: #BA7428 !important;
    stroke: #BA7428 !important;
    box-shadow: inset 0 0 0 1px #BA7428 !important; 
    background-color: rgba(186, 116, 40, 0.15) !important; 
    border-radius: 0 !important; /* REQUERIMIENTO: Cuadrado */
}

/* ================================================================= */
/* 5. STATUS BAR */
/* ================================================================= */

/* REQUERIMIENTO: Sin curvas (Cuadrado) */
.status-bar,
.status-bar-item {
    border-radius: 0 !important;
}

/* MODO OSCURO: Contenedor invisible, Items con borde visible */
.theme-dark .status-bar { 
    color: #BA7428; 
    background-color: #202020 !important; 
    border: none !important; /* Exterior invisible */
}
.theme-dark .status-bar-item { 
    border: 1px solid #BA7428 !important; /* Item con borde visible */
    padding: 2px 6px; 
    margin: 0; 
    color: #BA7428; 
    background-color: #292929; 
}

/* MODO CLARO: Contenedor invisible, Items con borde visible */
.theme-light .status-bar { 
    color: #0066CC; 
    background-color: #B0B0B0 !important; 
    border: none !important; /* Exterior invisible */
}
.theme-light .status-bar-item { 
    border: 1px solid #0066CC !important; /* Item con borde visible */
    padding: 2px 6px; 
    margin: 0; 
    color: #0066CC; 
    background-color: #C5C5C5; 
}

/* ================================================================= */
/* 6. CALENDARIO */
/* ================================================================= */
/* Oscuro */
.theme-dark #calendar-container .day.today { background: none !important; border: none !important; border-radius: 0 !important; color: #BA7428 !important; font-weight: bold !important; }
.theme-dark #calendar-container .day .dot { background-color: #BA7428 !important; border: none !important; width: 6px !important; height: 6px !important; border-radius: 50% !important; display: block !important; margin: 0 auto !important; }

/* Claro (AZUL) */
.theme-light #calendar-container .day.today { background: none !important; border: none !important; border-radius: 0 !important; color: #0066CC !important; font-weight: bold !important; }
.theme-light #calendar-container .day .dot { background-color: #0066CC !important; border: none !important; width: 6px !important; height: 6px !important; border-radius: 50% !important; display: block !important; margin: 0 auto !important; }

/* ================================================================= */
/* 7. ICONOS DE CARPETAS */
/* ================================================================= */
:root { --chevron-icon: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="2" fill="none"/></svg>'); }
.theme-light .nav-folder .collapse-icon svg.svg-icon, .theme-dark .nav-folder .collapse-icon svg.svg-icon { display: none; }

.theme-dark .nav-folder .collapse-icon { mask: var(--chevron-icon) no-repeat center; background: #BA7428 !important; width: 16px; height: 16px; opacity: 1 !important; transform: rotate(0deg) !important; }
.theme-light .nav-folder .collapse-icon { mask: var(--chevron-icon) no-repeat center; background: #0066CC !important; width: 16px; height: 16px; opacity: 1 !important; transform: rotate(0deg) !important; }

.nav-folder.is-collapsed .collapse-icon { transform: rotate(0deg) !important; }
.nav-folder:not(.is-collapsed) .collapse-icon { transform: rotate(90deg) !important; }

/* ================================================================= */
/* 8. TIPOGRAFÍA Y TEXTO */
/* ================================================================= */

/* Modo Oscuro */
.theme-dark .markdown-source-view, .theme-dark .markdown-preview-view, .theme-dark .cm-s-obsidian .cm-line, .theme-dark .nav-folder-title-content, .theme-dark .nav-file-title-content { color: #A5A5A5 !important; }
.theme-dark .nav-folder-children, .theme-dark .nav-folder-children::before, .theme-dark .nav-folder-children > .nav-folder-item { border-left: 1px solid #BA7428 !important; }
.theme-dark .nav-file-title::before { border-left: none !important; content: none !important; }

/* Modo Claro */
.theme-light .markdown-source-view, .theme-light .markdown-preview-view, .theme-light .cm-s-obsidian .cm-line, .theme-light .nav-folder-title-content, .theme-light .nav-file-title-content { color: #222222 !important; }
/* REQUERIMIENTO: Línea vertical de carpetas AZUL en modo claro */
.theme-light .nav-folder-children, 
.theme-light .nav-folder-children::before, 
.theme-light .nav-folder-children > .nav-folder-item { 
    border-left: 1px solid #0066CC !important; 
}
.theme-light .nav-file-title::before { border-left: none !important; content: none !important; }

/* --- Títulos en American Typewriter SIN NEGRILLA --- */
.inline-title, 
h1, h2, h3, h4, h5, h6,
.markdown-preview-view h1, .markdown-preview-view h2, 
.markdown-preview-view h3, .markdown-preview-view h4, 
.markdown-preview-view h5, .markdown-preview-view h6,
.cm-header {
    font-family: 'American Typewriter', monospace !important;
    font-weight: normal !important;
}

/* COLOR TÍTULOS: OSCURO (NARANJA) vs CLARO (AZUL) */
.theme-dark .inline-title, .theme-dark h1, .theme-dark h2, .theme-dark h3, .theme-dark h4, .theme-dark h5, .theme-dark h6,
.theme-dark .markdown-preview-view h1, .theme-dark .markdown-preview-view h2, .theme-dark .markdown-preview-view h3,
.theme-dark .markdown-preview-view h4, .theme-dark .markdown-preview-view h5, .theme-dark .markdown-preview-view h6,
.theme-dark .cm-header {
    color: #BA7428 !important;
}

.theme-light .inline-title, .theme-light h1, .theme-light h2, .theme-light h3, .theme-light h4, .theme-light h5, .theme-light h6,
.theme-light .markdown-preview-view h1, .theme-light .markdown-preview-view h2, .theme-light .markdown-preview-view h3,
.theme-light .markdown-preview-view h4, .theme-light .markdown-preview-view h5, .theme-light .markdown-preview-view h6,
.theme-light .cm-header {
    color: #0066CC !important;
}

.markdown-preview-view p, .markdown-source-view.mod-cm6 .cm-line { text-align: justify; text-justify: inter-word; }
.markdown-preview-view blockquote { border-color: transparent; font-size: 95%; text-align: center; hyphens: auto; color: lightgrey; padding: 1px 2%; margin: 15pt 0; }
.theme-light .markdown-preview-view blockquote { color: #222222 !important; }

/* --- LINKS HOVER MODO CLARO (NEGRO NEGRITA) --- */
.theme-light a:hover,
.theme-light .metadata-link:hover,
.theme-light .external-link:hover,
.theme-light .cm-s-obsidian .cm-link:hover,
.theme-light .cm-s-obsidian .cm-hmd-internal-link:hover,
.theme-light .metadata-property-value a:hover {
  color: #000000 !important;
  font-weight: bold !important;
}

/* ================================================================= */
/* 9. ELEMENTOS CUADRADOS Y FRONT MATTER */
/* ================================================================= */

.task-list-item-checkbox { border-radius: 0 !important; border: 1px solid currentColor; }

/* REQUERIMIENTO: TOGGLES (SWITCHES) SETTINGS */

/* Configuración General del Toggle */
.checkbox-container {
    width: 42px !important;
    height: 22px !important;
    border-radius: 0 !important; /* Contenedor rectangular */
    box-sizing: border-box !important;
    position: relative !important;
    overflow: hidden !important;
}

/* EL BOTÓN (CÍRCULO) */
.checkbox-container::after {
    content: "" !important;
    display: block !important;
    width: 14px !important;
    height: 14px !important;
    border-radius: 50% !important; /* CÍRCULO */
    position: absolute !important;
    top: 50% !important;
    left: 3px !important;
    transform: translateY(-50%) !important; /* Centrado vertical perfecto */
    transition: left 0.2s ease-in-out, background-color 0.2s !important;
    margin: 0 !important;
    box-shadow: none !important;
}

/* ESTADO ACTIVO (MOVER A LA DERECHA) */
.checkbox-container.is-enabled::after {
    /* Combinar transformaciones para mantener centrado Y y mover X */
    transform: translate3d(20px, -50%, 0) !important; 
    left: 3px !important;
}

/* Input oculto */
.checkbox-container input[type="checkbox"] {
    width: 100% !important; height: 100% !important;
    opacity: 0 !important; position: absolute !important;
    top: 0 !important; left: 0 !important; margin: 0 !important;
    border: none !important; appearance: none !important; -webkit-appearance: none !important;
    display: block !important; z-index: 10 !important; cursor: pointer !important;
}

/* --- MODO CLARO (TOGGLES) --- */
.theme-light .checkbox-container::after {
    background-color: #000000 !important; /* Círculo Negro */
    border: none !important; 
}
/* Apagado (OFF) */
.theme-light .checkbox-container {
    border: 1px solid #000000 !important;
    background-color: rgba(255, 0, 0, 0.15) !important; /* Rojo transparente */
}
/* Encendido (ON) */
.theme-light .checkbox-container.is-enabled {
    background-color: rgba(0, 255, 0, 0.15) !important; /* Verde transparente */
    border: 1px solid #000000 !important;
}

/* --- MODO OSCURO (TOGGLES) --- */
.theme-dark .checkbox-container::after {
    background-color: #000000 !important; /* Círculo Negro */
    border: 1px solid #FFFFFF !important; /* Circunferencia Blanca */
}
/* Apagado (OFF) */
.theme-dark .checkbox-container {
    border: 1px solid #FFFFFF !important;
    background-color: rgba(255, 0, 0, 0.2) !important; /* Rojo transparente */
}
/* Encendido (ON) */
.theme-dark .checkbox-container.is-enabled {
    background-color: rgba(0, 255, 0, 0.2) !important; /* Verde transparente */
    border: 1px solid #FFFFFF !important;
}

/* Front Matter Textos (Modo Claro) */
.theme-light .metadata-property-key,
.theme-light .metadata-property-value,
.theme-light .metadata-label,
.theme-light .multi-select-pill-content,
.theme-light .metadata-input-longtext { color: #333333 !important; }

.theme-light .metadata-property-key-input,
.theme-light .metadata-property-value-input { color: #000000 !important; }

/* FRONT MATTER HOVER (MODO CLARO - BORDE NEGRO) */
.theme-light .metadata-property:hover,
.theme-light .metadata-property-key-input:hover,
.theme-light .metadata-property-value-input:hover {
    border-color: #000000 !important;
}

/* URL NEGRAS EN MODO CLARO */
.theme-light .metadata-link,
.theme-light .metadata-property-value .external-link,
.theme-light .metadata-property-value a { 
    color: #000000 !important; 
    text-decoration-color: #000000 !important;
}

/* Placeholder */
.theme-light .metadata-input-longtext:empty::before,
.theme-light .metadata-property-value-input:empty::before {
    color: #707070 !important; 
    opacity: 1 !important;
}

/* ---- CHECKBOXES & TAGS ESPECÍFICOS POR MODO ---- */

/* A. MODO OSCURO (NARANJA - PILLS Y CHECKBOXES) */
.theme-dark .metadata-property .multi-select-pill, .theme-dark .metadata-tag,
.theme-dark .multi-select-pill { 
    border: 1px solid #BA7428 !important; border-radius: 0 !important; 
}

/* Checkboxes generales en modo oscuro (EXCLUYENDO el toggle de settings) */
/* Aplicamos estilo a checkboxes de metadata, tareas y otros inputs explícitos */
.theme-dark .metadata-property input[type="checkbox"],
.theme-dark .task-list-item-checkbox {
    -webkit-appearance: none !important; appearance: none !important;
    border: 1px solid #BA7428 !important; border-radius: 0 !important;
    width: 16px !important; height: 16px !important;
    display: inline-flex !important; justify-content: center; align-items: center;
    background-color: transparent; cursor: pointer; position: relative; margin: 0;
}

.theme-dark .metadata-property input[type="checkbox"]:checked,
.theme-dark .task-list-item-checkbox:checked {
    background-color: #BA7428 !important; border-color: #BA7428 !important;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>') !important;
    background-position: center center !important; background-repeat: no-repeat !important; background-size: 70% !important; 
}

/* B. MODO CLARO (AZUL - PILLS Y CHECKBOXES) */
.theme-light .metadata-property .multi-select-pill, .theme-light .metadata-tag,
.theme-light .multi-select-pill { 
    border: 1px solid #0066CC !important; border-radius: 0 !important; 
}

/* 1. Base (Unchecked): Borde Negro */
.theme-light .metadata-property input[type="checkbox"],
.theme-light .task-list-item-checkbox {
    -webkit-appearance: none !important; appearance: none !important;
    border: 1px solid #000000 !important; /* Borde Negro */
    border-radius: 0 !important;
    width: 16px !important; height: 16px !important;
    display: inline-flex !important; justify-content: center; align-items: center;
    background-color: transparent; cursor: pointer; position: relative; margin: 0;
}

/* 2. Checked: Fondo Azul, Borde Negro, Tick Negro */
.theme-light .metadata-property input[type="checkbox"]:checked,
.theme-light .task-list-item-checkbox:checked {
    background-color: #0066CC !important; /* Fondo Azul */
    border-color: #000000 !important; /* Borde Negro */
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>') !important;
    background-position: center center !important; background-repeat: no-repeat !important; background-size: 70% !important; 
}

/* Limpieza Pseudo-elementos */
.metadata-property input[type="checkbox"]::before, .metadata-property input[type="checkbox"]::after { content: none !important; display: none !important; }

/* Hover Cuadrado */
.metadata-property:hover, .metadata-property:focus-within, .metadata-property-key-input:hover, .metadata-property-value-input:hover, .metadata-property-key-input:focus, .metadata-property-value-input:focus { border-radius: 0 !important; }
.metadata-container, .metadata-content, .metadata-property { border-radius: 0 !important; }

/* ================================================================= */
/* 10. VARIOS */
/* ================================================================= */
.countTable table table td:nth-child(2) { width: 40px; white-space: normal; }
body.theme-dark .search-result-file-title { color: #CF914D !important; font-weight: normal; }
body.theme-light .search-result-file-title { color: black !important; font-weight: bold; }

/* Vault Name */
.workspace-drawer-vault-name { display: inline-block; padding: 0.1em 0.8em; font-weight: bold; font-size: 0.85em; border-radius: 0; margin: 0; }
.theme-dark .workspace-drawer-vault-name { background-color: #414141 !important; color: #BA7428 !important; border: 1px solid #BA7428 !important; }
.theme-light .workspace-drawer-vault-name { background-color: #B0B0B0 !important; color: #0066CC !important; border: 1px solid #0066CC !important; }

.markdown-preview-view, .markdown-source-view { max-width: 700px; margin: auto; }
.markdown-preview-view p, .cm-content .cm-line { line-height: 1.8; }
::-webkit-scrollbar { width: 8px; } ::-webkit-scrollbar-track { background: transparent; } ::-webkit-scrollbar-thumb { background-color: rgba(100, 100, 100, 0.5); border-radius: 4px; } body:not(:hover) ::-webkit-scrollbar-thumb { background-color: transparent; }

/* ================================================================= */
/* 11. BASES (Database Checkboxes) */
/* ================================================================= */

/* Reset general para los inputs dentro de bases */
.bases-td input[type="checkbox"] {
    -webkit-appearance: none !important; appearance: none !important;
    border-radius: 0 !important; /* Cuadrado */
    width: 16px !important; height: 16px !important;
    cursor: pointer; margin: 0; 
    display: inline-flex; justify-content: center; align-items: center;
}

/* --- MODO OSCURO (BASES) --- */
/* Borde Naranja, Fondo Transparente */
.theme-dark .bases-td input[type="checkbox"] {
    border: 1px solid #BA7428 !important;
    background-color: transparent !important;
}
/* Activado: Tick Naranja */
.theme-dark .bases-td input[type="checkbox"]:checked {
    border: 1px solid #BA7428 !important;
    background-color: transparent !important; /* Fondo invisible */
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23BA7428" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>') !important;
    background-position: center !important; background-size: 70% !important; background-repeat: no-repeat !important;
}

/* --- MODO CLARO (BASES) --- */
/* Borde Azul, Fondo Transparente */
.theme-light .bases-td input[type="checkbox"] {
    border: 1px solid #0066CC !important;
    background-color: transparent !important;
}
/* Activado: Tick Azul */
.theme-light .bases-td input[type="checkbox"]:checked {
    border: 1px solid #0066CC !important;
    background-color: transparent !important; /* Fondo invisible */
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%230066CC" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>') !important;
    background-position: center !important; background-size: 70% !important; background-repeat: no-repeat !important;
}

/* ================================================================= */
/* 12. BOTONES EN CONFIGURACIÓN (MODAL ONLY) */
/* ================================================================= */

/* Forma Cuadrada General - SOLO en Modales (Settings) */
.modal button,
.modal .mod-cta,
.modal .mod-warning {
    border-radius: 0 !important;
}

/* MODO OSCURO: Borde Blanco - SOLO en Modales */
.theme-dark .modal button {
    border: 1px solid #FFFFFF !important;
}

/* MODO CLARO: Borde Negro - SOLO en Modales */
.theme-light .modal button {
    border: 1px solid #000000 !important;
}

/* ================================================================= */
/* 13. CONTEO DE TAGS (TAG PANE COUNT) */
/* ================================================================= */

/* MODO OSCURO: Naranja */
.theme-dark .tag-pane-tag-count {
    color: #BA7428 !important;
    background-color: transparent !important; /* Fondo transparente por si acaso */
}

/* MODO CLARO: Azul */
.theme-light .tag-pane-tag-count {
    color: #0066CC !important;
    background-color: transparent !important;
}